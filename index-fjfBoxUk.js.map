{"version":3,"file":"index-fjfBoxUk.js","sources":["../src/components/BlockOne.vue","../src/components/BlockTwo.vue","../src/App.vue","../src/main.js"],"sourcesContent":["<script setup>\r\nimport { ref, computed } from 'vue'\r\n\r\nconst emit = defineEmits(['nextStep'])\r\n\r\nconst nodes = ref([\r\n\t{\r\n\t\tid: 1,\r\n\t\ttext: 'Помогите кадровику оформить документы на ежегодный отпуск',\r\n\t\tto: 2,\r\n\t\tisShow: true,\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttext: 'Хороший выбор!Теперь определите,с чего начать,перед тем как оформить отпуск',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'Проверить, сотрудник идет в отпуск по графику?',\r\n\t\t\t\tto: 3,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Взять с сотрудника заявление на отпуск и оформить приказ',\r\n\t\t\t\tto: 5,\r\n\t\t\t},\r\n\t\t],\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttext: 'Верно! Елена планировала в графике отпусков 19 к.д., но не в Марте 2025 года, а в Мае 2025 года. Какие ваши дальнейшие действия?',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'Проверить, сотрудник идет в отпуск по графику?',\r\n\t\t\t\tto: 4,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Взять с сотрудника заявление на отпуск и оформить приказ',\r\n\t\t\t\tto: 5,\r\n\t\t\t},\r\n\t\t],\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttext: 'Верно! Давайте сделаем расчет, сколько к.д. отпуска Елена может взять в Марте 2025 года.',\r\n\t\tto: 6,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttext: 'Не верно! Для начала давайте сделаем расчет, сколько к.д. отпуска Елена может взять в Марте 2025 года.',\r\n\t\tto: 6,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttext: 'Сделать расчет остатка отпуска',\r\n\t\tto: 7,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\ttext: 'Елена работает с 14.05.2024 г. Планирует пойти в отпуск с 20.03.2025 г. В прошлом году 5 календарных дней она уже использовала. Сколько дней отпуска можно предоставить?',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: '18 календарных дней',\r\n\t\t\t\tto: 8,\r\n\t\t\t},\r\n\t\t\t{ text: '19 календарных дней', to: 9 },\r\n\t\t],\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 8,\r\n\t\ttext: 'Не верно. При умножении количества месяцев отпускного стажа на 2*33 дня в месяц = итоговое число более 15 дней округляется в большую сторону. Итоговый остаток отпуска: 19 к.д. ',\r\n\t\tto: 10,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 9,\r\n\t\ttext: 'Верно. Рабочий год у Елены с 14.05.24 по 13.05.25 = 28 к.д. По 20.03.25 Елена отработала 10 месяцев * 2,33 дня в месяц = 23.3 к. д.-5 к.д. отпуска Елена уже забрала. Остаток - 18 3 к.д. округляем и получаем 19 к.д. на Март 2025 г.',\r\n\t\tto: 10,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 10,\r\n\t\ttext: 'Вы произвели расчет отпуска. Не забудьте взять с Елены заявление о переносе отпуска, ведь в графике отпусков 19 к.д. установлены на Май 2025 г. Также, в графике отпусков поставьте отмету о переносе отпуска и можете оформлять приказ!',\r\n\t\tto: 11,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 11,\r\n\t\ttext: 'Вы разобрались как оформить ежегодный отпуск. А теперь попробуйте рассчитать денежную компенсацию',\r\n\t\tisShow: false,\r\n\t\tto: 123,\r\n\t},\r\n])\r\n\r\nconst history = ref([1])\r\nconst selectedOptions = ref({}) // Храним выбранные опции\r\nconst isProcessing = ref(false) // Флаг для блокировки двойных кликов\r\n\r\nfunction handleNodeClick(node) {\r\n\tif (node.id === 11) {\r\n\t\temit('nextStep')\r\n\t}\r\n\r\n\tif (isProcessing.value || (!node.options?.length && !node.to)) return\r\n\tif (!node.options?.length && node.to) {\r\n\t\tconst nextNodeId = node.to\r\n\t\tif (!history.value.includes(nextNodeId)) {\r\n\t\t\tisProcessing.value = true\r\n\t\t\thistory.value.push(nextNodeId)\r\n\t\t\tsetTimeout(() => (isProcessing.value = false), 300)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handleOptionClick(option, parentNode) {\r\n\tif (isProcessing.value || selectedOptions.value[parentNode.id]) return\r\n\tisProcessing.value = true\r\n\tselectedOptions.value[parentNode.id] = option\r\n\tconst nextNodeId = option.to\r\n\tif (!history.value.includes(nextNodeId)) {\r\n\t\thistory.value.push(nextNodeId)\r\n\t}\r\n\tsetTimeout(() => (isProcessing.value = false), 300)\r\n}\r\n\r\nconst visibleNodes = computed(() => {\r\n\tconst lastTwoIds = history.value.slice(-2)\r\n\treturn lastTwoIds.map((id, index) => {\r\n\t\treturn {\r\n\t\t\t...nodes.value.find(n => n.id === id),\r\n\t\t\tx: 50,\r\n\t\t\ty: index * 250 + 80, // Увеличено расстояние между узлами\r\n\t\t}\r\n\t})\r\n})\r\n\r\nconst connections = computed(() => {\r\n\tconst allConnections = []\r\n\r\n\t// Соединения между узлами\r\n\tif (visibleNodes.value.length >= 2) {\r\n\t\tconst fromNode = visibleNodes.value[0]\r\n\t\tconst toNode = visibleNodes.value[1]\r\n\r\n\t\t// Проверка перехода через опцию\r\n\t\tconst option = fromNode.options?.find(opt => opt.to === toNode.id)\r\n\t\tif (option) {\r\n\t\t\tconst optionIndex = fromNode.options.indexOf(option)\r\n\t\t\tallConnections.push({\r\n\t\t\t\tfromX: optionIndex === 0 ? 15 : 85,\r\n\t\t\t\tfromY: fromNode.y,\r\n\t\t\t\ttoX: toNode.x,\r\n\t\t\t\ttoY: toNode.y,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// Прямое соединение\r\n\t\tif (fromNode.to === toNode.id) {\r\n\t\t\tallConnections.push({\r\n\t\t\t\tfromX: fromNode.x,\r\n\t\t\t\tfromY: fromNode.y,\r\n\t\t\t\ttoX: toNode.x,\r\n\t\t\t\ttoY: toNode.y,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Соединения между узлом и его опциями\r\n\tvisibleNodes.value.forEach(node => {\r\n\t\tif (node.options) {\r\n\t\t\tconst selectedOption = selectedOptions.value[node.id]\r\n\r\n\t\t\t// Если есть выбранная опция - показываем только ее соединение\r\n\t\t\tif (selectedOption) {\r\n\t\t\t\tconst optionIndex = node.options.findIndex(\r\n\t\t\t\t\topt => opt.to === selectedOption.to\r\n\t\t\t\t)\r\n\t\t\t\tif (optionIndex !== -1) {\r\n\t\t\t\t\tallConnections.push({\r\n\t\t\t\t\t\tfromX: node.x,\r\n\t\t\t\t\t\tfromY: node.y,\r\n\t\t\t\t\t\ttoX: optionIndex === 0 ? 15 : 85,\r\n\t\t\t\t\t\ttoY: node.y,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Если опция не выбрана - показываем все соединения\r\n\t\t\t\tnode.options.forEach((option, i) => {\r\n\t\t\t\t\tallConnections.push({\r\n\t\t\t\t\t\tfromX: node.x,\r\n\t\t\t\t\t\tfromY: node.y,\r\n\t\t\t\t\t\ttoX: i === 0 ? 15 : 85,\r\n\t\t\t\t\t\ttoY: node.y,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\treturn allConnections\r\n})\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"flow-container\">\r\n\t\t<svg class=\"connections\">\r\n\t\t\t<line\r\n\t\t\t\tv-for=\"(conn, i) in connections\"\r\n\t\t\t\t:key=\"`${conn.fromX}-${conn.fromY}-${conn.toX}-${conn.toY}`\"\r\n\t\t\t\t:x1=\"`${conn.fromX}%`\"\r\n\t\t\t\t:y1=\"`${conn.fromY}px`\"\r\n\t\t\t\t:x2=\"`${conn.toX}%`\"\r\n\t\t\t\t:y2=\"`${conn.toY}px`\"\r\n\t\t\t\tstroke=\"#4CAF50\"\r\n\t\t\t\tstroke-width=\"2\"\r\n\t\t\t/>\r\n\t\t</svg>\r\n\r\n\t\t<div\r\n\t\t\tv-for=\"node in visibleNodes\"\r\n\t\t\t:key=\"node.id\"\r\n\t\t\tclass=\"node\"\r\n\t\t\t:class=\"{ clickable: !node.options?.length && node.to }\"\r\n\t\t\t:style=\"{\r\n\t\t\t\tleft: `${node.x}%`,\r\n\t\t\t\ttop: `${node.y}px`,\r\n\t\t\t\twidth: !node.options?.length ? '75vw' : '30vw',\r\n\t\t\t}\"\r\n\t\t\t@click=\"handleNodeClick(node)\"\r\n\t\t>\r\n\t\t\t{{ node.text }}\r\n\t\t</div>\r\n\r\n\t\t<template\r\n\t\t\tv-for=\"node in visibleNodes.filter(n => n.options)\"\r\n\t\t\t:key=\"`opt-${node.id}`\"\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tv-for=\"(option, i) in node.options\"\r\n\t\t\t\t:key=\"i\"\r\n\t\t\t\tclass=\"node option\"\r\n\t\t\t\t:class=\"{\r\n\t\t\t\t\tselected: selectedOptions[node.id]?.to === option.to,\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tselectedOptions[node.id] &&\r\n\t\t\t\t\t\tselectedOptions[node.id].to !== option.to,\r\n\t\t\t\t}\"\r\n\t\t\t\t:style=\"{\r\n\t\t\t\t\tleft: i === 0 ? '15%' : '85%',\r\n\t\t\t\t\ttop: `${node.y}px`,\r\n\t\t\t\t\tdisplay: selectedOptions[node.id]\r\n\t\t\t\t\t\t? selectedOptions[node.id].to === option.to\r\n\t\t\t\t\t\t\t? 'block'\r\n\t\t\t\t\t\t\t: 'none'\r\n\t\t\t\t\t\t: 'block',\r\n\t\t\t\t}\"\r\n\t\t\t\t@click=\"handleOptionClick(option, node)\"\r\n\t\t\t>\r\n\t\t\t\t{{ option.text }}\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\n.flow-container {\r\n\tposition: relative;\r\n\twidth: 100vw;\r\n\theight: 50vw;\r\n\tmargin-top: 2vw;\r\n}\r\n\r\n.connections {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n}\r\n\r\n.node {\r\n\tposition: absolute;\r\n\ttransform: translate(-50%, -50%);\r\n\tbackground: white;\r\n\tborder: 2px solid #4caf50;\r\n\tborder-radius: 8px;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\tcursor: default;\r\n\ttransition: all 0.3s;\r\n\ttext-align: center;\r\n\twhite-space: normal;\r\n\tword-wrap: break-word;\r\n\tmax-width: none;\r\n\ttransition: transform 0.3s ease, opacity 0.3s ease;\r\n}\r\n\r\n.node.option {\r\n\tbackground: #f8f9fa;\r\n\tborder-color: #2196f3;\r\n\twidth: 30vw !important;\r\n\tcursor: pointer;\r\n}\r\n\r\n.node.clickable {\r\n\tcursor: pointer;\r\n}\r\n\r\n.node.clickable:hover {\r\n\ttransform: translate(-50%, -50%) scale(1.02);\r\n}\r\n\r\n.option.disabled {\r\n\tdisplay: none !important;\r\n\tpointer-events: none;\r\n\topacity: 0.5;\r\n}\r\n\r\n.node.clickable:hover:not(.disabled) {\r\n\ttransform: translate(-50%, -50%) scale(1.02);\r\n}\r\n\r\n@keyframes draw {\r\n\tto {\r\n\t\tstroke-dashoffset: 0;\r\n\t}\r\n}\r\n</style>\r\n","<script setup>\r\nimport { ref, computed, watch } from 'vue'\r\n\r\nconst emit = defineEmits(['firstStep'])\r\n\r\nconst nodes = ref([\r\n\t{\r\n\t\tid: 1,\r\n\t\ttext: 'Помогите кадровику предоставить денежную компенсацию',\r\n\t\tto: 2,\r\n\t\tisShow: true,\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ttext: 'Елена решила не брать отпуск в 2025 году и планирует запросить денежную компенсацию за все дни отпуска, примерно 10.06.25.Вводные: в организации она работает с 14.05.2024 и дополнительный отпуск (3 к.д.) за ненормированный рабочий день установлен с первого дня работы. Но в 2024 году Елена уже брала ежегодный отпуск в 5 к.д. Также, Елена планирует и дальше работать в организации. Подумайте, сколько дней отпуска можно возместить?',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: '26 календарных дней',\r\n\t\t\t\tto: 3,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Три календарных дня',\r\n\t\t\t\tto: 4,\r\n\t\t\t},\r\n\t\t],\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ttext: 'Не верно. На основании статьи 126 ТК РФ часть ежегодного дополнительного отпуска, свыше 28 к.д. может быть заменена денежной компенсацией.',\r\n\t\tto: 5,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\ttext: 'Верно, на основании статьи 126 ТК РФ.',\r\n\t\tto: 5,\r\n\t\tisShow: false,\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\ttext: 'Но в каждом правиле есть исключение! Вы знаете, каким категориям сотрудников нельзя заменить денежной компенсацией часть дополнительного отпуска, на основании ст. 126 ТК РФ? ',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'Знаю, но хочу убедиться. Расскажите',\r\n\t\t\t\tto: 6,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Не знаю, расскажите',\r\n\t\t\t\tto: 7,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tid: 6,\r\n\t\ttext: 'Нельзя заменить денежной компенсацией дополнительный отпуск: \\n* беременным женщинам;\\n * работникам в возрасте до 18-ти лет\\n* работникам, занятым на работах с вредными и (или) опасными условиями труда.',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'Как рассчитать денежную компенсацию вы узнали. А теперь попробуйте оформить ежегодный отпуск',\r\n\t\t\t\tto: 111,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Закончить тренировку',\r\n\t\t\t\tto: 112,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tid: 7,\r\n\t\ttext: 'Нельзя заменить денежной компенсацией дополнительный отпуск: \\n* беременным женщинам;\\n * работникам в возрасте до 18-ти лет\\n* работникам, занятым на работах с вредными и (или) опасными условиями труда.',\r\n\t\toptions: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'Как рассчитать денежную компенсацию вы узнали. А теперь попробуйте оформить ежегодный отпуск',\r\n\t\t\t\tto: 111,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Закончить тренировку',\r\n\t\t\t\tto: 112,\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n])\r\n\r\nconst history = ref([1])\r\nconst selectedOptions = ref({}) // Храним выбранные опции\r\nconst isProcessing = ref(false) // Флаг для блокировки двойных кликов\r\n\r\nfunction reload() {\r\n\tlocation.reload()\r\n}\r\n\r\nfunction handleNodeClick(node) {\r\n\tif (isProcessing.value || (!node.options?.length && !node.to)) return\r\n\tif (!node.options?.length && node.to) {\r\n\t\tconst nextNodeId = node.to\r\n\t\tif (!history.value.includes(nextNodeId)) {\r\n\t\t\tisProcessing.value = true\r\n\t\t\thistory.value.push(nextNodeId)\r\n\t\t\tsetTimeout(() => (isProcessing.value = false), 300)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handleOptionClick(option, parentNode) {\r\n\tif (option.to === 111) {\r\n\t\temit('firstStep')\r\n\t\treturn\r\n\t}\r\n\r\n\tif (option.to === 112) {\r\n\t\treload()\r\n\t\treturn\r\n\t}\r\n\r\n\tif (isProcessing.value || selectedOptions.value[parentNode.id]) return\r\n\tisProcessing.value = true\r\n\tselectedOptions.value[parentNode.id] = option\r\n\tconst nextNodeId = option.to\r\n\tif (!history.value.includes(nextNodeId)) {\r\n\t\thistory.value.push(nextNodeId)\r\n\t}\r\n\tsetTimeout(() => (isProcessing.value = false), 300)\r\n}\r\n\r\nconst visibleNodes = computed(() => {\r\n\tconst lastTwoIds = history.value.slice(-2)\r\n\treturn lastTwoIds.map((id, index) => {\r\n\t\treturn {\r\n\t\t\t...nodes.value.find(n => n.id === id),\r\n\t\t\tx: 50,\r\n\t\t\ty: index * 330 + 80, // Увеличено расстояние между узлами\r\n\t\t}\r\n\t})\r\n})\r\n\r\nconst connections = computed(() => {\r\n\tconst allConnections = []\r\n\r\n\t// Соединения между узлами\r\n\tif (visibleNodes.value.length >= 2) {\r\n\t\tconst fromNode = visibleNodes.value[0]\r\n\t\tconst toNode = visibleNodes.value[1]\r\n\r\n\t\t// Проверка перехода через опцию\r\n\t\tconst option = fromNode.options?.find(opt => opt.to === toNode.id)\r\n\t\tif (option) {\r\n\t\t\tconst optionIndex = fromNode.options.indexOf(option)\r\n\t\t\tallConnections.push({\r\n\t\t\t\tfromX: optionIndex === 0 ? 15 : 85,\r\n\t\t\t\tfromY: fromNode.y,\r\n\t\t\t\ttoX: toNode.x,\r\n\t\t\t\ttoY: toNode.y,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// Прямое соединение\r\n\t\tif (fromNode.to === toNode.id) {\r\n\t\t\tallConnections.push({\r\n\t\t\t\tfromX: fromNode.x,\r\n\t\t\t\tfromY: fromNode.y,\r\n\t\t\t\ttoX: toNode.x,\r\n\t\t\t\ttoY: toNode.y,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Соединения между узлом и его опциями\r\n\tvisibleNodes.value.forEach(node => {\r\n\t\tif (node.options) {\r\n\t\t\tconst selectedOption = selectedOptions.value[node.id]\r\n\r\n\t\t\t// Если есть выбранная опция - показываем только ее соединение\r\n\t\t\tif (selectedOption) {\r\n\t\t\t\tconst optionIndex = node.options.findIndex(\r\n\t\t\t\t\topt => opt.to === selectedOption.to\r\n\t\t\t\t)\r\n\t\t\t\tif (optionIndex !== -1) {\r\n\t\t\t\t\tallConnections.push({\r\n\t\t\t\t\t\tfromX: node.x,\r\n\t\t\t\t\t\tfromY: node.y,\r\n\t\t\t\t\t\ttoX: optionIndex === 0 ? 15 : 85,\r\n\t\t\t\t\t\ttoY: node.y,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Если опция не выбрана - показываем все соединения\r\n\t\t\t\tnode.options.forEach((option, i) => {\r\n\t\t\t\t\tallConnections.push({\r\n\t\t\t\t\t\tfromX: node.x,\r\n\t\t\t\t\t\tfromY: node.y,\r\n\t\t\t\t\t\ttoX: i === 0 ? 15 : 85,\r\n\t\t\t\t\t\ttoY: node.y,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\treturn allConnections\r\n})\r\n\r\nconst flowMargin = ref('0vw')\r\n\r\nconst currentActiveNodeId = computed(() => {\r\n\treturn visibleNodes.value[visibleNodes.value.length - 1]?.id\r\n})\r\n\r\nwatch(\r\n\tcurrentActiveNodeId,\r\n\tnewId => {\r\n\t\tconsole.log(newId)\r\n\r\n\t\tif (newId === 3) flowMargin.value = '15vw'\r\n\t\telse if (newId === 4) flowMargin.value = '15vw'\r\n\t\telse if (newId === 6) flowMargin.value = '5vw'\r\n\t\telse if (newId === 7) flowMargin.value = '5vw'\r\n\t\telse flowMargin.value = '0vw'\r\n\t},\r\n\t{ immediate: true }\r\n)\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"flow-container\" :style=\"{ marginTop: flowMargin }\">\r\n\t\t<svg class=\"connections\">\r\n\t\t\t<line\r\n\t\t\t\tv-for=\"(conn, i) in connections\"\r\n\t\t\t\t:key=\"`${conn.fromX}-${conn.fromY}-${conn.toX}-${conn.toY}`\"\r\n\t\t\t\t:x1=\"`${conn.fromX}%`\"\r\n\t\t\t\t:y1=\"`${conn.fromY}px`\"\r\n\t\t\t\t:x2=\"`${conn.toX}%`\"\r\n\t\t\t\t:y2=\"`${conn.toY}px`\"\r\n\t\t\t\tstroke=\"#4CAF50\"\r\n\t\t\t\tstroke-width=\"2\"\r\n\t\t\t/>\r\n\t\t</svg>\r\n\r\n\t\t<div\r\n\t\t\tv-for=\"node in visibleNodes\"\r\n\t\t\t:key=\"node.id\"\r\n\t\t\tclass=\"node\"\r\n\t\t\t:class=\"{ clickable: !node.options?.length && node.to }\"\r\n\t\t\t:style=\"{\r\n\t\t\t\tleft: `${node.x}%`,\r\n\t\t\t\ttop: `${node.y}px`,\r\n\t\t\t\twidth: !node.options?.length ? '75vw' : '30vw',\r\n\t\t\t}\"\r\n\t\t\t@click=\"handleNodeClick(node)\"\r\n\t\t>\r\n\t\t\t{{ node.text }}\r\n\t\t</div>\r\n\r\n\t\t<template\r\n\t\t\tv-for=\"node in visibleNodes.filter(n => n.options)\"\r\n\t\t\t:key=\"`opt-${node.id}`\"\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tv-for=\"(option, i) in node.options\"\r\n\t\t\t\t:key=\"i\"\r\n\t\t\t\tclass=\"node option\"\r\n\t\t\t\t:class=\"{\r\n\t\t\t\t\tselected: selectedOptions[node.id]?.to === option.to,\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tselectedOptions[node.id] &&\r\n\t\t\t\t\t\tselectedOptions[node.id].to !== option.to,\r\n\t\t\t\t}\"\r\n\t\t\t\t:style=\"{\r\n\t\t\t\t\tleft: i === 0 ? '15%' : '85%',\r\n\t\t\t\t\ttop: `${node.y}px`,\r\n\t\t\t\t\tdisplay: selectedOptions[node.id]\r\n\t\t\t\t\t\t? selectedOptions[node.id].to === option.to\r\n\t\t\t\t\t\t\t? 'block'\r\n\t\t\t\t\t\t\t: 'none'\r\n\t\t\t\t\t\t: 'block',\r\n\t\t\t\t}\"\r\n\t\t\t\t@click=\"handleOptionClick(option, node)\"\r\n\t\t\t>\r\n\t\t\t\t{{ option.text }}\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\n.flow-container {\r\n\tposition: relative;\r\n\twidth: 100vw;\r\n\theight: 72vw;\r\n\tmargin-top: 5vw;\r\n}\r\n\r\n.connections {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n}\r\n\r\n.node {\r\n\tposition: absolute;\r\n\ttransform: translate(-50%, -50%);\r\n\tbackground: white;\r\n\tborder: 2px solid #4caf50;\r\n\tborder-radius: 8px;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\tcursor: default;\r\n\ttransition: all 0.3s;\r\n\ttext-align: center;\r\n\twhite-space: normal;\r\n\tword-wrap: break-word;\r\n\tmax-width: none;\r\n\ttransition: transform 0.3s ease, opacity 0.3s ease;\r\n\twhite-space: pre-wrap;\r\n}\r\n\r\n.node.option {\r\n\tbackground: #f8f9fa;\r\n\tborder-color: #2196f3;\r\n\twidth: 30vw !important;\r\n\tcursor: pointer;\r\n}\r\n\r\n.node.clickable {\r\n\tcursor: pointer;\r\n}\r\n\r\n.node.clickable:hover {\r\n\ttransform: translate(-50%, -50%) scale(1.02);\r\n}\r\n\r\n.option.disabled {\r\n\tdisplay: none !important;\r\n\tpointer-events: none;\r\n\topacity: 0.5;\r\n}\r\n\r\n.node.clickable:hover:not(.disabled) {\r\n\ttransform: translate(-50%, -50%) scale(1.02);\r\n}\r\n\r\n@keyframes draw {\r\n\tto {\r\n\t\tstroke-dashoffset: 0;\r\n\t}\r\n}\r\n</style>\r\n","<script setup>\nimport { ref } from 'vue'\nimport BlockOne from './components/BlockOne.vue'\nimport BlockTwo from './components/BlockTwo.vue'\n\nconst currentStep = ref(1)\n</script>\n\n<template>\n\t<div class=\"header\"></div>\n\t<Transition mode=\"out-in\">\n\t\t<div v-if=\"currentStep === 1\">\n\t\t\t<BlockOne @nextStep=\"currentStep += 1\" />\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<BlockTwo @firstStep=\"currentStep = 1\" />\n\t\t</div>\n\t</Transition>\n</template>\n\n<style scoped>\n.footer {\n\theight: 5vw;\n\tbackground-color: red;\n}\n\n.v-enter-active,\n.v-leave-active {\n\ttransition: opacity 0.5s ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n\topacity: 0;\n}\n</style>\n","import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n"],"names":["emit","__emit","nodes","ref","history","selectedOptions","isProcessing","handleNodeClick","node","_a","_b","nextNodeId","handleOptionClick","option","parentNode","visibleNodes","computed","id","index","n","connections","allConnections","fromNode","toNode","opt","optionIndex","selectedOption","i","reload","flowMargin","currentActiveNodeId","watch","newId","currentStep","createApp","App"],"mappings":"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"}